@import '../var'

[btn]
  display inline-block
  padding 6pxr 12pxr
  margin-bottom 0
  font-size inherit
  font-weight 400
  line-height 1.42857143
  text-align center
  white-space nowrap
  vertical-align middle
  touch-action manipulation
  cursor pointer
  user-select none
  background-image none
  box-sizing border-box
  background silver
  border none
  -webkit-appearance rgba(0, 0, 0,.05)
  -webkit-tap-highlight-color rgba(0, 0, 0,.05)
  // &:active
  //   background-image linear-gradient(to right, rgba(0,0,0,.05), rgba(0,0,0,.1))
  //   opacity .9
[btn~='text']
  // color $color-primary
  background none
[btn~='plat']
  background none
  box-shadow 0 0 0 .5px currentColor
  // border .5px solid currentColor

// 格式化最小宽度
[btn~='fit']
  min-width 5em
  & > [btn~='sm']
    min-width 4em
  & > [btn~='md']
    min-width 5em
  & > [btn~='lg']
    min-width 6em

[btn~='sm'],[btn~='md']
  font-size 75%

[btn~='sm']
  padding 1pxr 5pxr
  line-height 1.333333
[btn~='md']
  padding 5pxr 10pxr
[btn~='lg']
  padding 12pxr 18pxr
  font-size 18pxr
  line-height 1.3333333

// [btn~='fillet']
//   border-radius 9999pxr
[btn~='block']
  display block
  width 100%
// [btn~='rect']
//   border-radius 0

// [btn]
//   & > [radius]
//     border-radius 4pxr


groupRadius($radius = 4pxr)
  &:first-child
    border-radius $radius 0 0 $radius
  &:last-child
    border-radius  0 $radius $radius 0
[btn~='group']
  padding 0
  box-shadow 0 0 0 0
  background none
  background-image none
  cursor auto
  clear()
  & > [btn]
    float left
    &[btn~='plat']
      &:not(:last-child)
        box-shadow -.5px 0  currentColor, 0 .5px  currentColor, 0 -.5px  currentColor

  // 分组内 radius 处理
  & > [radius]
    border-radius 0
    groupRadius()
    &[radius='50']
      groupRadius(50%)
    &[radius='100']
      groupRadius(9999pxr)
    for i in 2 3 4
      &[radius=\'{i * 4}\']
        groupRadius(i * 4 * 1pxr)


[btn~='border']
  & > [btn]
    // border 0 none
    &:not(:first-child)
      box-shadow -.5px 0  rgba(0,0,0,.1)
      // border-left 1px solid rgba(0,0,0,.075)


// [btn~='rect']
//   & > [btn]
//     &:first-child
//       border-radius 0
//     &:last-child
//       border-radius 0


icoSize($size = 31pxr)
  width $size
  height $size
  line-height $size
// 图标
[btn~='ico']
  border-radius 0
  min-width 0
  padding 0
  overflow hidden
  icoSize()

  & > img
    display block
    width 100%
    height 100%

  &[btn~='ssm']
    & > img
      transform scale(.75)

  &[btn~='sm']
    icoSize(15pxr)
  &[btn~='md']
    icoSize(24pxr)
  &[btn~='lg']
    icoSize(47pxr)

